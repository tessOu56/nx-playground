---
id: 2023-12
slug: 2023-12
title: å‰ç«¯æ¶æ§‹æ·±åŒ–èˆ‡ä¼æ¥­ç´šç³»çµ±å”ä½œ - 2023
year: 2023
publishDate: 2023-12-31
excerpt: Next.js App Routerã€GraphQL schema é©…å‹•é–‹ç™¼èˆ‡ä¼æ¥­ç´š B2B SaaS å¹³å°
techStack:
  - Next.js (App Router)
  - React
  - TypeScript
  - GraphQL
  - Apollo Client
  - Node.js
  - NestJS
  - PostgreSQL
  - Server Components
tags:
  - nextjs
  - graphql
  - apollo
  - enterprise
  - performance
  - architecture
coverImage: https://picsum.photos/seed/2023-nx/800/400
---

# å‰ç«¯æ¶æ§‹æ·±åŒ–èˆ‡ä¼æ¥­ç´šç³»çµ±å”ä½œ - 2023

## ğŸ§­ åŠ å…¥è»Ÿé«”é–‹ç™¼å…¬å¸

2023 å¹´ï¼Œæˆ‘åŠ å…¥ä¸€å®¶**è»Ÿé«”é–‹ç™¼å…¬å¸**ï¼Œæ­£å¼å°ˆæ³¨æ–¼å‰ç«¯é ˜åŸŸçš„é–‹ç™¼ã€‚

å…¬å¸ä¸»è¦æ‰¿æ¥**ä¸­å¤§å‹ä¼æ¥­å°ˆæ¡ˆ**ï¼Œæˆ‘æ‰€å±¬åœ˜éšŠç‚º**äºæ´²å¤§å‹å»£å‘Šä¼æ¥­**é–‹ç™¼**å»£å‘Šæ¥­å‹™ç®¡ç†ç³»çµ±ï¼ˆAdvertising Business Management Systemï¼‰**ã€‚

### åœ˜éšŠçµ„æˆ

åœ˜éšŠæˆå“¡åŒ…å«ï¼š
- å‰ç«¯å·¥ç¨‹å¸«
- å¾Œç«¯å·¥ç¨‹å¸«
- ç³»çµ±åˆ†æï¼ˆSAï¼‰
- è¨­è¨ˆå¸«
- ç”¢å“ç¶“ç†ï¼ˆPMï¼‰
- QA æ¸¬è©¦

å”ä½œé »ç¹ã€é–‹ç™¼ç¯€å¥æ˜ç¢ºã€‚

### æŠ€è¡“æ£§

**å¾Œç«¯**ï¼šNode.jsã€NestJSã€PostgreSQLã€GraphQL

**å‰ç«¯**ï¼šNext.js **ï¼ˆApp Routerï¼‰** æ­é…æ–°ä¸€ä»£æ¨¡å¼ï¼š
- Server Components
- Dynamic/Parallel Routes
- Streaming rendering

---

## å°ˆæ¡ˆèƒŒæ™¯èˆ‡æŠ€è¡“æŒ‘æˆ°

é€™æ˜¯ä¸€å€‹**å¤§å‹ B2B SaaS å¹³å°**ï¼Œæ•´åˆï¼š
- å®¢æˆ¶è³‡æ–™
- åª’é«”è³‡ç”¢
- æ´»å‹•ç®¡ç†
- é ç®—è¿½è¹¤
- å ±è¡¨åˆ†æ

### æˆ‘çš„è·è²¬

æˆ‘è² è²¬**å‰ç«¯ä»‹é¢æ¨¡çµ„è¨­è¨ˆèˆ‡é–‹ç™¼**ï¼Œä¸¦åƒèˆ‡**è¡¨å–®æµç¨‹å¼•æ“ï¼ˆForm Flow Engineï¼‰** çš„å‰ç«¯é‚è¼¯è¦åŠƒã€‚

ç³»çµ±åŒ…å«å¤§é‡ï¼š
- å‹•æ…‹è¡¨å–®
- å·¢ç‹€æ¬„ä½
- è·¨é è³‡æ–™å‚³é

éœ€å…¼é¡§**æ•ˆèƒ½èˆ‡ä¸€è‡´æ€§**ã€‚

æˆ‘èˆ‡**å¾Œç«¯ã€SAã€è¨­è¨ˆ**å¯†åˆ‡å°é½Šè³‡æ–™æµèˆ‡ä½¿ç”¨æƒ…å¢ƒï¼Œä¸¦é‡å°ä»¥ä¸‹é€²è¡Œå¤šè¼ªå„ªåŒ–ï¼š
- ç€è¦½å™¨æ•ˆèƒ½
- ç‹€æ…‹åŒæ­¥
- è¼‰å…¥ç­–ç•¥

åœ¨æ¶æ§‹å±¤å»ºç«‹**æ¨¡çµ„åŒ– UI çµæ§‹**èˆ‡**å…±ç”¨é‚è¼¯å…ƒä»¶ï¼ˆShared Logic Componentsï¼‰**ï¼Œç¢ºä¿è·¨æ¨¡çµ„ä¸€è‡´æ“´å……èˆ‡ç¶­è­·ã€‚

---

## GraphQL èˆ‡ Schema å°ç…§å¼é–‹ç™¼

å¾Œç«¯ä»¥ **GraphQL Schema** ç‚ºæ ¸å¿ƒè¨­è¨ˆ APIï¼Œå‰ç«¯ä¾åŒä¸€ä»½ Schema é€²è¡Œé–‹ç™¼èˆ‡å‹åˆ¥ç¶å®šï¼Œå½¢æˆ **Schema é©…å‹•é–‹ç™¼ï¼ˆSchema-Driven Developmentï¼‰**ï¼š

### é—œéµå¯¦è¸

**Query/Mutation æ•´åˆ**ï¼š
- ä½¿ç”¨ Query/Mutation ä¸²æ¥è¤‡é›œæ¥­å‹™è³‡æ–™
- é…åˆ **Apollo Client** ç®¡ç†å¿«å–èˆ‡ç‹€æ…‹
- çµåˆ TypeScript å‹åˆ¥æ¨å°ï¼Œé™ä½è³‡æ–™ä¸ä¸€è‡´é¢¨éšª

**Server/Client Components å”ä½œ**ï¼š
- åœ¨ App Router ç’°å¢ƒè™•ç† Server/Client Components å”ä½œ
- è®“ UI èˆ‡è³‡æ–™å±¤ç·Šå¯†è²¼åˆå¾Œç«¯çµæ§‹

**å…±ç”¨èªè¨€**ï¼š
- å‰å¾Œç«¯å¹¾ä¹ã€Œå…±ç”¨èªè¨€ã€
- æé«˜æºé€šç²¾æº–åº¦èˆ‡é–‹ç™¼æ•ˆç‡

---

## æ€§èƒ½å„ªåŒ–èˆ‡æ¨¡çµ„è¨­è¨ˆ

ç³»çµ±è³‡æ–™é‡å¤§ã€è¡¨å–®æ¬„ä½å¤šä¸”å«å³æ™‚é©—è­‰ï¼Œæˆ‘å°æ¸²æŸ“èˆ‡è³‡æ–™æµåšç³»çµ±æ€§å„ªåŒ–ï¼š

### çµ„ä»¶åˆ†å‰²èˆ‡è¼‰å…¥ç­–ç•¥

- **Lazy Loadingã€Suspenseã€Parallel/Nested Routes**
- å¤§å‹è¡¨å–®åšå€å¡ŠåŒ–æ¸²æŸ“èˆ‡æ¢ä»¶æ›è¼‰
- é™ä½é¦–å±è² è¼‰

### äº’å‹•è² è¼‰ç®¡æ§

- é«˜é »è¼¸å…¥æ¡ **Debounce/Throttle**
- éé—œéµæ¬„ä½å»¶é²æ ¡é©—
- æ¸›å°‘ä¸å¿…è¦ re-render

### ç‹€æ…‹åˆ‡é¢åŠƒåˆ†

- åˆ†é›¢ **UI State** èˆ‡ **Server State**
- é¿å…å…¨åŸŸç‹€æ…‹æ”¾å¤§å°è‡´é‡æ¸²æŸ“

### éŒ¯èª¤å¾©åŸé«”é©—

- æäº¤æµç¨‹æä¾›å±€éƒ¨å›å¾©
- ç²¾æº–éŒ¯èª¤æç¤º
- ç¶­æŒæ“ä½œé€£çºŒæ€§

---

## API è³‡æ–™å‘¼å«èˆ‡å¿«å–ç­–ç•¥ï¼ˆGraphQLï¼šQuery / Mutationï¼‰

åœ¨ Apollo Client + GraphQL æ¶æ§‹ä¸‹ï¼Œä»¥ Schema ç‚ºä¸­å¿ƒåˆ¶å®š Query/Mutation ç­–ç•¥ï¼Œå…¼é¡§ä¸€è‡´æ€§èˆ‡æ€§èƒ½ï¼š

### å‹åˆ¥/æ¬„ä½ç­–ç•¥ï¼ˆType/Field Policiesï¼‰

- ç‚º Campaignã€Orderã€Channel ç­‰æ ¸å¿ƒå¯¦é«”è¨­å®š `keyFields`ï¼Œå•Ÿç”¨æ­£è¦åŒ–å¿«å–
- åˆ—è¡¨æ¬„ä½ï¼ˆå¦‚ campaignsã€ordersï¼‰è‡ªè¨‚ `merge/read`ï¼Œæ”¯æ´ cursor/offset åˆ†é èˆ‡å»é‡

### å¿«å–æ”¿ç­–ï¼ˆFetch Policiesï¼‰

- **é è¨­**ï¼š`cache-first`ï¼ˆåˆ—è¡¨/è©³æƒ…å›è¨ªå¿«ï¼‰
- **å³æ™‚æ€§é é¢**ï¼š`cache-and-network`
- **å¼·ä¸€è‡´å¾Œå°æ“ä½œ**ï¼š`network-only`

### æ¨‚è§€æ›´æ–°èˆ‡å¿«å–æ›´æ–°ï¼ˆOptimistic UI / Cache Updatesï¼‰

- Mutation å…ˆæ¨‚è§€å›å¯«ï¼Œå†ä»¥å›å‚³è³‡æ–™æ ¡æ­£
- åœ¨ `update(cache, result)` ç²¾æº–æ›´æ–°å—å½±éŸ¿ Query
- ä¾‹å¦‚ï¼šå°‡æ–°å»º Campaign æ’å…¥ campaigns åˆ—è¡¨

### å¿«å–å¤±æ•ˆèˆ‡é‡æ•´ï¼ˆEviction / Refetchï¼‰

- å°å¯©æ ¸/ç™¼ä½ˆç­‰æ•æ„Ÿç‹€æ…‹ï¼ŒMutation å¾Œé¸æ“‡æ€§é©…é€æˆ– `refetchQueries`
- åƒ…åˆ·æ–°å¿…è¦ Query
- ä»¥ Fragmentï¼ˆ`writeFragment/readFragment`ï¼‰å±€éƒ¨æ›´æ–°ï¼Œé¿å…å¤§ç¯„åœé‡æŠ“

### åˆ†é èˆ‡å»é‡ï¼ˆPagination & De-dupï¼‰

- æ¡ cursor-based åˆ†é ï¼Œæ–¼ merge å¯¦ä½œå»é‡
- é•·åˆ—è¡¨æ”¯æ´ç„¡é™æ»¾å‹•èˆ‡æ¼¸é€²è¼‰å…¥

### æ‰¹æ¬¡/ä½µç™¼èˆ‡é‡è©¦ï¼ˆBatching, Concurrency, Retryï¼‰

- å•Ÿç”¨ HTTP Batching æˆ– Link å±¤è«‹æ±‚åˆä½µï¼Œé™ä½ RTT
- å•Ÿç”¨ dedup é¿å…çŸ­æ™‚é–“é‡è¤‡ Query
- å¯æ¢å¾©éŒ¯èª¤æ¡æŒ‡æ•¸é€€é¿é‡è©¦ï¼ŒUI æä¾›é‡è©¦å…¥å£

### æ¬Šé™èˆ‡å¯è¦‹æ€§ï¼ˆAuth & Visibilityï¼‰

- Apollo Link æ³¨å…¥ Token èˆ‡ tenant ä¸Šä¸‹æ–‡
- ç¢ºä¿è³‡æ–™éš”é›¢èˆ‡å¿«å–å‘½åç©ºé–“æ­£ç¢º

### å‹åˆ¥èˆ‡ä»£ç¢¼ç”Ÿæˆï¼ˆTypes/Codegenï¼‰

- ä»¥ **GraphQL Codegen** ç”¢å‡º TS å‹åˆ¥èˆ‡ Hooks
- å‰ç«¯ç›´æ¥å°ç…§ Schema é–‹ç™¼

### SSR/ISR æ­é…

- é¦–å±ä»¥ SSR/ISR æä¾›ç©©å®šèˆ‡ SEO
- äº’å‹•éšæ®µç”± Apollo å¿«å–æ¥ç®¡
- å½¢æˆã€Œ**SSR é¦–ç•«é¢ + å®¢ç«¯å¿«å–å¢é‡**ã€çš„æ··åˆè·¯å¾‘

---

## Team Collaboration and Development Process

**Bi-weekly Sprints** with weekly code review and retrospectives.

### My Contributions

I was responsible for:
- Module documentation
- Shared logic organization
- Establishing cross-functional communication mechanisms

This enabled **SA, design, and backend** to quickly align on frontend implementation constraints and requirements.

### Frontend Positioning

In large projects, I positioned frontend as the **bridge between user experience and data logic**:
- Interfaces must not only be user-friendly
- But also accurately reflect **business and data rules**

---

## Year-End Review

2023 was a year I accumulated **enterprise-level practical experience** in:
- **Next.js App Router**
- **GraphQL Schema-Driven Development**
- **Performance optimization**
- **Modular design**

I learned to collaborate precisely in **multi-functional teams**, advancing frontend value with a perspective that balances **architecture and experience**.

**Future Direction**:
- Continue with **frontend engineering as the core**
- Combine **product logic and system thinking**
- Embrace projects of even **higher complexity**

---

_Advancing with enterprise-scale architecture expertise and refined collaboration skills._
