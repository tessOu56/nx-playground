# Phase B éƒ¨è½æ ¼ - i18n ç­–ç•¥

**æ›´æ–°æ—¥æœŸ**: 2025-10-20
**æ ¸å¿ƒéœ€æ±‚**: æ–‡æª”éœ€è¦å¤šèªç³»æ”¯æ´ï¼ˆä¸­æ–‡ + è‹±æ–‡ï¼‰

---

## ğŸŒ i18n æ¶æ§‹è¨­è¨ˆ

### æ–¹æ¡ˆå°æ¯”

#### æ–¹æ¡ˆ Aï¼šæ–‡æª”ç›®éŒ„å¤šèªç³» â­ æ¨è–¦

**çµæ§‹**:

```
docs/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ zh-TW/
â”‚   â”‚   â”œâ”€â”€ PROFILE.md
â”‚   â”‚   â”œâ”€â”€ EVENT_CMS.md
â”‚   â”‚   â”œâ”€â”€ AUTH.md
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ en/
â”‚       â”œâ”€â”€ PROFILE.md
â”‚       â”œâ”€â”€ EVENT_CMS.md
â”‚       â”œâ”€â”€ AUTH.md
â”‚       â””â”€â”€ ...
â””â”€â”€ libs/
    â”œâ”€â”€ zh-TW/
    â”‚   â”œâ”€â”€ ENTERPRISE_DATA.md
    â”‚   â””â”€â”€ ANIMATION_DATA.md
    â””â”€â”€ en/
        â”œâ”€â”€ ENTERPRISE_DATA.md
        â””â”€â”€ ANIMATION_DATA.md
```

**å„ªé»**:

- âœ… æ–‡æª”å®Œå…¨ç¨ç«‹ï¼Œæ˜“æ–¼ç¶­è­·
- âœ… å¯ä»¥é‡å°ä¸åŒèªç³»å„ªåŒ–å…§å®¹
- âœ… ç¿»è­¯å·¥ä½œæ¸…æ™°åˆ†é›¢
- âœ… æ”¯æ´æœªä¾†æ·»åŠ æ›´å¤šèªè¨€

**ç¼ºé»**:

- âŒ éœ€è¦ç¶­è­·å…©ä»½æ–‡æª”
- âŒ åˆæœŸç¿»è­¯å·¥ä½œé‡å¤§

---

#### æ–¹æ¡ˆ Bï¼šå–®ä¸€æ–‡æª” + UI å¤šèªç³»

**çµæ§‹**:

```
docs/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ PROFILE.md          # åƒ…ä¸­æ–‡
â”‚   â”œâ”€â”€ EVENT_CMS.md
â”‚   â””â”€â”€ ...
```

**å„ªé»**:

- âœ… ç¶­è­·ç°¡å–®
- âœ… ç„¡éœ€ç¿»è­¯

**ç¼ºé»**:

- âŒ è‹±æ–‡è¨ªå®¢çœ‹ä¸æ‡‚å…§å®¹
- âŒ SEO ä¸å‹å–„ï¼ˆåƒ…å–®ä¸€èªè¨€ï¼‰
- âŒ ä¸å°ˆæ¥­

---

#### æ–¹æ¡ˆ Cï¼šæ··åˆæ–¹æ¡ˆ

**çµæ§‹**:

```
docs/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ zh-TW/              # å®Œæ•´ä¸­æ–‡æ–‡æª”
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ en/                 # åƒ…æ‘˜è¦/ç²¾ç°¡ç‰ˆ
â”‚       â”œâ”€â”€ PROFILE.md      # ç°¡çŸ­ä»‹ç´¹
â”‚       â””â”€â”€ ...
```

**å„ªé»**:

- âœ… å¹³è¡¡ç¶­è­·æˆæœ¬
- âœ… è‹±æ–‡ç‰ˆå¯ä»¥æ›´ç²¾ç°¡ï¼ˆé©åˆå¿«é€Ÿç€è¦½ï¼‰

**ç¼ºé»**:

- âŒ å…§å®¹ä¸ä¸€è‡´å¯èƒ½é€ æˆå›°æƒ‘

---

## ğŸ¯ æ¨è–¦ï¼šæ–¹æ¡ˆ Aï¼ˆå®Œæ•´å¤šèªç³»ï¼‰

### ç†ç”±

1. **å°ˆæ¥­åº¦** - æŠ€è¡“å±•ç¤ºç«™å°æ‡‰è©²é›™èªå®Œæ•´
2. **SEO** - ä¸­è‹±æ–‡éƒ½èƒ½è¢«æœå°‹åˆ°
3. **åœ‹éš›åŒ–** - é©åˆæµ·å¤–æ¥æ¡ˆ/æ±‚è·
4. **å¯æ“´å±•** - æœªä¾†å¯æ·»åŠ æ—¥æ–‡ç­‰

---

## ğŸ“‚ å¯¦ä½œè¨ˆåŠƒ

### Step 1: é‡çµ„æ–‡æª”ç›®éŒ„çµæ§‹

**åŸ·è¡Œ**:

```bash
# 1. é‡çµ„ apps æ–‡æª”
mkdir -p docs/apps/zh-TW docs/apps/en
mv docs/apps/*.md docs/apps/zh-TW/
mv docs/apps/README.md docs/apps/  # README ä¿ç•™åœ¨å¤–å±¤

# 2. é‡çµ„ libs æ–‡æª”
mkdir -p docs/libs/zh-TW docs/libs/en
mv docs/libs/*.md docs/libs/zh-TW/
mv docs/libs/README.md docs/libs/
```

**çµæœ**:

```
docs/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ README.md           # ç´¢å¼•ï¼ˆé›™èªæˆ–å–®èªï¼‰
â”‚   â”œâ”€â”€ zh-TW/
â”‚   â”‚   â”œâ”€â”€ PROFILE.md
â”‚   â”‚   â”œâ”€â”€ EVENT_CMS.md
â”‚   â”‚   â”œâ”€â”€ EVENT_PORTAL.md
â”‚   â”‚   â”œâ”€â”€ AUTH.md
â”‚   â”‚   â”œâ”€â”€ ENTERPRISE_ADMIN.md
â”‚   â”‚   â”œâ”€â”€ VUE_MOTION.md
â”‚   â”‚   â””â”€â”€ API_SERVER.md
â”‚   â””â”€â”€ en/
â”‚       â”œâ”€â”€ PROFILE.md
â”‚       â”œâ”€â”€ EVENT_CMS.md
â”‚       â”œâ”€â”€ EVENT_PORTAL.md
â”‚       â”œâ”€â”€ AUTH.md
â”‚       â”œâ”€â”€ ENTERPRISE_ADMIN.md
â”‚       â”œâ”€â”€ VUE_MOTION.md
â”‚       â””â”€â”€ API_SERVER.md
â””â”€â”€ libs/
    â”œâ”€â”€ README.md
    â”œâ”€â”€ zh-TW/
    â”‚   â”œâ”€â”€ ENTERPRISE_DATA.md
    â”‚   â””â”€â”€ ANIMATION_DATA.md
    â””â”€â”€ en/
        â”œâ”€â”€ ENTERPRISE_DATA.md
        â””â”€â”€ ANIMATION_DATA.md
```

---

### Step 2: æ›´æ–° loadDocs.ts

**æ”¯æ´ locale åƒæ•¸**:

```typescript
import fs from 'fs';
import path from 'path';
import matter from 'gray-matter';
import { marked } from 'marked';
import readingTime from 'reading-time';

export interface BlogPost {
  slug: string;
  title: string;
  category: 'apps' | 'libs';
  tags: string[];
  date: string;
  excerpt: string;
  content: string;
  readingTime: string;
  lang: 'zh-TW' | 'en';
  published: boolean;
}

/**
 * è¼‰å…¥æŒ‡å®šèªè¨€çš„æ‰€æœ‰æ–‡æª”
 */
export function loadAllPosts(locale: 'zh-TW' | 'en' = 'zh-TW'): BlogPost[] {
  const appsDir = path.join(process.cwd(), `../../../../docs/apps/${locale}`);
  const libsDir = path.join(process.cwd(), `../../../../docs/libs/${locale}`);

  const appsPosts = loadPostsFromDir(appsDir, 'apps', locale);
  const libsPosts = loadPostsFromDir(libsDir, 'libs', locale);

  return [...appsPosts, ...libsPosts]
    .filter(post => post.published)
    .sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());
}

/**
 * å¾ç›®éŒ„è¼‰å…¥æ–‡æª”
 */
function loadPostsFromDir(
  dir: string,
  category: 'apps' | 'libs',
  locale: 'zh-TW' | 'en'
): BlogPost[] {
  // å¦‚æœç›®éŒ„ä¸å­˜åœ¨ï¼Œè¿”å›ç©ºé™£åˆ—
  if (!fs.existsSync(dir)) {
    console.warn(`Directory not found: ${dir}`);
    return [];
  }

  const files = fs.readdirSync(dir);

  return files
    .filter(file => file.endsWith('.md') && file !== 'README.md')
    .map(file => {
      const filePath = path.join(dir, file);
      const fileContent = fs.readFileSync(filePath, 'utf-8');
      const { data, content } = matter(fileContent);

      return {
        slug: data.slug || file.replace('.md', '').toLowerCase(),
        title: data.title || extractTitle(content),
        category,
        tags: data.tags || [],
        date: data.date || new Date().toISOString(),
        excerpt: data.excerpt || extractExcerpt(content),
        content: marked(content),
        readingTime: readingTime(content).text,
        lang: locale, // ä½¿ç”¨åƒæ•¸æŒ‡å®šçš„èªè¨€
        published: data.published !== false,
      };
    });
}

/**
 * æ ¹æ“š slug å’Œ locale è¼‰å…¥å–®ä¸€æ–‡æª”
 */
export function loadPostBySlug(
  slug: string,
  locale: 'zh-TW' | 'en' = 'zh-TW'
): BlogPost | null {
  const posts = loadAllPosts(locale);
  return posts.find(post => post.slug === slug) || null;
}

/**
 * å–å¾—æ‰€æœ‰æ¨™ç±¤
 */
export function getAllTags(locale: 'zh-TW' | 'en' = 'zh-TW'): string[] {
  const posts = loadAllPosts(locale);
  const tagsSet = new Set<string>();

  posts.forEach(post => {
    post.tags.forEach(tag => tagsSet.add(tag));
  });

  return Array.from(tagsSet).sort();
}

// Helper functions (unchanged)
function extractTitle(content: string): string {
  const match = content.match(/^#\s+(.+)$/m);
  return match ? match[1] : 'Untitled';
}

function extractExcerpt(content: string, length = 150): string {
  const plainText = content
    .replace(/^---[\s\S]*?---/, '')
    .replace(/#+ /g, '')
    .replace(/\[([^\]]+)\]\([^)]+\)/g, '$1')
    .replace(/`([^`]+)`/g, '$1')
    .trim();

  return plainText.slice(0, length) + (plainText.length > length ? '...' : '');
}
```

---

### Step 3: æ›´æ–° Blog é é¢

**BlogListPage.tsx** - ä½¿ç”¨ç•¶å‰ locale:

```typescript
import { useState, useMemo } from 'react';
import { useParams } from 'react-router-dom';
import { BlogCard } from '../components/BlogCard';
import { TagFilter } from '../components/TagFilter';
import { SearchBar } from '../components/SearchBar';
import { loadAllPosts, getAllTags } from '../utils/loadDocs';
import { useBlogTranslation } from '../hooks/useBlogTranslation';
import { type SupportedLocale } from '../../../lib/i18n/LocaleRouter';

export function BlogListPage() {
  const { locale } = useParams<{ locale: string }>();
  const currentLocale = (locale || 'zh-TW') as SupportedLocale;

  const { t } = useBlogTranslation();
  const posts = loadAllPosts(currentLocale);
  const allTags = getAllTags(currentLocale);

  // ... rest of the component
}
```

**BlogPostPage.tsx** - ä½¿ç”¨ç•¶å‰ locale:

```typescript
export function BlogPostPage() {
  const { slug, locale } = useParams<{ slug: string; locale: string }>();
  const currentLocale = (locale || 'zh-TW') as SupportedLocale;

  if (!slug) return <Navigate to={`/${currentLocale}/blog`} replace />;

  const post = loadPostBySlug(slug, currentLocale);

  if (!post) return <Navigate to={`/${currentLocale}/blog`} replace />;

  // ... rest of the component
}
```

---

### Step 4: Fallback æ©Ÿåˆ¶

**å¦‚æœè‹±æ–‡æ–‡æª”ä¸å­˜åœ¨ï¼Œå›é€€åˆ°ä¸­æ–‡**:

```typescript
export function loadPostBySlug(
  slug: string,
  locale: 'zh-TW' | 'en' = 'zh-TW'
): BlogPost | null {
  // å…ˆå˜—è©¦è¼‰å…¥æŒ‡å®šèªè¨€
  let posts = loadAllPosts(locale);
  let post = posts.find(p => p.slug === slug);

  // å¦‚æœæ‰¾ä¸åˆ°ä¸”ä¸æ˜¯é è¨­èªè¨€ï¼Œå˜—è©¦ fallback
  if (!post && locale !== 'zh-TW') {
    console.log(`Post "${slug}" not found in ${locale}, falling back to zh-TW`);
    posts = loadAllPosts('zh-TW');
    post = posts.find(p => p.slug === slug);

    // æ·»åŠ æç¤ºè¨Šæ¯
    if (post) {
      post.lang = 'zh-TW'; // æ¨™è¨˜å¯¦éš›èªè¨€
    }
  }

  return post || null;
}
```

---

### Step 5: æ·»åŠ èªè¨€åˆ‡æ›æŒ‰éˆ•

**åœ¨æ–‡ç« é é¢æ·»åŠ èªè¨€åˆ‡æ›**:

```tsx
// components/LanguageToggle.tsx
import { useNavigate } from 'react-router-dom';
import { Button } from '@nx-playground/ui-components';
import { useLocalizedNavigation } from '../../../lib/i18n/useLocalizedNavigation';

interface LanguageToggleProps {
  currentSlug: string;
}

export function LanguageToggle({ currentSlug }: LanguageToggleProps) {
  const { locale, changeLanguage } = useLocalizedNavigation();

  const handleToggle = () => {
    const newLocale = locale === 'zh-TW' ? 'en' : 'zh-TW';
    changeLanguage(newLocale);
    // URL æœƒè‡ªå‹•åˆ‡æ›åˆ° /:newLocale/blog/:slug
  };

  return (
    <Button variant='outline' size='sm' onClick={handleToggle}>
      {locale === 'zh-TW' ? 'EN' : 'ä¸­æ–‡'}
    </Button>
  );
}
```

**åœ¨ BlogPostPage ä½¿ç”¨**:

```tsx
<header className='mb-8 flex justify-between items-start'>
  <div>
    <h1 className='text-4xl font-bold text-foreground mb-4'>{post.title}</h1>
    {/* ... meta info ... */}
  </div>

  <LanguageToggle currentSlug={slug} />
</header>
```

---

## ğŸ“ ç¿»è­¯å·¥ä½œæµç¨‹

### Phase 1: å»ºç«‹è‹±æ–‡æ¨¡æ¿

ç‚ºæ¯å€‹æ–‡æª”å‰µå»ºè‹±æ–‡ç‰ˆæœ¬ï¼š

```markdown
---
title: 'Profile - React 19 Technical Showcase Platform'
slug: 'profile-react-portfolio'
category: 'apps'
tags: ['React 19', 'Vite', 'i18n', 'Cloudflare Pages']
date: '2025-10-20'
excerpt: 'Building a professional React showcase platform from scratch with multilingual routing and config-driven architecture'
author: 'NX Playground'
lang: 'en'
published: true
---

# Profile - Technical Showcase & Portfolio

> Professional technical showcase platform for freelancing and job applications

**Last Updated**: 2025-10-20

---

## ğŸ¯ Project Overview

**Production-grade technical showcase platform**, providing complete user registration, login, and password recovery flows.

### Core Value

- ğŸ” **Enterprise-grade Security** - Using Ory Kratos
- ğŸ¨ **Brand Design** - Brick red theme
- ğŸŒ **Multi-SSO Support** - Google, Apple, LINE
- ğŸ“± **Mobile Friendly** - Responsive design

...
```

---

### Phase 2: æ¼¸é€²å¼ç¿»è­¯

**å„ªå…ˆé †åº**:

1. **é«˜å„ªå…ˆç´š** (ç«‹å³ç¿»è­¯):

   - PROFILE.md
   - EVENT_CMS.md
   - AUTH.md

2. **ä¸­å„ªå…ˆç´š** (1 é€±å…§):

   - EVENT_PORTAL.md
   - ENTERPRISE_DATA.md

3. **ä½å„ªå…ˆç´š** (è¦–æƒ…æ³):
   - ENTERPRISE_ADMIN.md
   - VUE_MOTION.md
   - API_SERVER.md
   - ANIMATION_DATA.md

---

### Phase 3: ç¿»è­¯å·¥å…·

**å¯ä½¿ç”¨ AI è¼”åŠ©**:

```bash
# ä½¿ç”¨ ChatGPT/Claude æ‰¹é‡ç¿»è­¯
# æä¾› prompt:
"""
Please translate the following technical documentation from Traditional Chinese to English.
Keep all markdown formatting, code blocks, and technical terms accurate.
Maintain a professional technical writing style.

[è²¼ä¸Šä¸­æ–‡æ–‡æª”]
"""
```

**äººå·¥æ ¡å°**:

- æŠ€è¡“è¡“èªç¢ºèª
- ä»£ç¢¼ç¯„ä¾‹æª¢æŸ¥
- æ ¼å¼ä¸€è‡´æ€§

---

## ğŸš€ å¯¦æ–½æ­¥é©Ÿ

### Day 1: é‡çµ„ç›®éŒ„çµæ§‹

```bash
# åŸ·è¡Œé‡çµ„è…³æœ¬
node scripts/reorganize-docs-i18n.js
```

### Day 2: æ›´æ–°ä»£ç¢¼

- âœ… æ›´æ–° `loadDocs.ts` æ”¯æ´ locale
- âœ… æ›´æ–° `BlogListPage.tsx`
- âœ… æ›´æ–° `BlogPostPage.tsx`
- âœ… æ·»åŠ  `LanguageToggle` çµ„ä»¶
- âœ… å¯¦ä½œ fallback æ©Ÿåˆ¶

### Day 3-5: ç¿»è­¯æ–‡æª”

- âœ… ç¿»è­¯ 3 å€‹é«˜å„ªå…ˆç´šæ–‡æª”
- âœ… æ¸¬è©¦é›™èªåˆ‡æ›
- âœ… ç¢ºä¿ SEO meta tags æ­£ç¢º

### Day 6-7: æ¸¬è©¦èˆ‡å„ªåŒ–

- âœ… æ¸¬è©¦æ‰€æœ‰è·¯ç”±
- âœ… æ¸¬è©¦ fallback
- âœ… æ¸¬è©¦èªè¨€åˆ‡æ›
- âœ… SEO é©—è­‰

---

## ğŸ“Š SEO å„ªåŒ–

### Meta Tags å¤šèªç³»

```tsx
<Helmet>
  {/* ä¸­æ–‡ */}
  <html lang='zh-TW' />
  <title>{post.title} | NX Playground</title>
  <meta name='description' content={post.excerpt} />

  {/* è‹±æ–‡æ›¿ä»£ */}
  <link rel='alternate' hreflang='en' href={`/en/blog/${post.slug}`} />
  <link rel='alternate' hreflang='zh-TW' href={`/zh-TW/blog/${post.slug}`} />

  {/* Open Graph */}
  <meta property='og:locale' content={locale === 'zh-TW' ? 'zh_TW' : 'en_US'} />
  <meta
    property='og:locale:alternate'
    content={locale === 'zh-TW' ? 'en_US' : 'zh_TW'}
  />
</Helmet>
```

---

## âœ… å®Œæˆæ¨™æº–

- [ ] æ–‡æª”ç›®éŒ„å·²é‡çµ„ç‚º `zh-TW/` å’Œ `en/`
- [ ] `loadDocs.ts` æ”¯æ´ locale åƒæ•¸
- [ ] æ‰€æœ‰é é¢ä½¿ç”¨ç•¶å‰ locale è¼‰å…¥æ–‡æª”
- [ ] Fallback æ©Ÿåˆ¶é‹ä½œæ­£å¸¸
- [ ] è‡³å°‘ 3 ç¯‡æ–‡æª”æœ‰è‹±æ–‡ç‰ˆæœ¬
- [ ] èªè¨€åˆ‡æ›æŒ‰éˆ•æ­£å¸¸é‹ä½œ
- [ ] SEO meta tags åŒ…å« hreflang
- [ ] RSS feed æ”¯æ´å¤šèªç³»ï¼ˆå¯é¸ï¼‰

---

**é ä¼°å¢åŠ æ™‚é–“**: +3-4 å¤©ï¼ˆç¿»è­¯å·¥ä½œï¼‰
**ç¸½æ™‚é–“**: 1.5-2.5 é€±
